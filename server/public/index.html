<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI ì½œë¡œì„¸ì›€</title>
    <script>
      // Apply saved or system theme ASAP to prevent flash
      (function() {
        try {
          var t = localStorage.getItem('theme');
          if (!t) {
            var m = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
            t = (m && m.matches) ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', t);
        } catch (e) {}
      })();
    </script>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <div class="app">
      <div class="layout">
        <aside class="sidebar">
          <div class="brand">
            <h1>AI ì½œë¡œì„¸ì›€</h1>
          </div>
          <div class="rooms-actions">
            <input id="room-input" type="text" placeholder="ë°© ì´ë¦„ ë˜ëŠ” ID" />
            <button id="room-join">ì…ì¥</button>
            <button id="room-create">ìƒˆ ë°©</button>
          </div>
          <ul id="room-list" class="rooms"></ul>
        </aside>

        <section class="main">
          <header class="topbar">
            <div class="room-meta">
              <span class="room-label">í˜„ì¬ ë°©</span>
              <h2 id="room-title" class="room-title"></h2>
            </div>
            <div class="actions">
              <button id="theme-toggle" class="icon-button" aria-label="í…Œë§ˆ ì „í™˜" title="í…Œë§ˆ ì „í™˜">ğŸŒ™</button>
              <button id="settings-toggle" class="icon-button" aria-label="ì„¤ì •" title="ì„¤ì •">âš™ï¸</button>
            </div>
          </header>

          <div id="settings-panel" class="settings" hidden>
            <div class="settings-row">
              <strong>ì—ì´ì „íŠ¸</strong>
              <label><input type="checkbox" id="agent-alpha" checked /> ì•ŒíŒŒ</label>
              <label><input type="checkbox" id="agent-muse" checked /> ë®¤ì¦ˆ</label>
              <label><input type="checkbox" id="agent-leo" checked /> ë¦¬ì˜¤</label>
            </div>
            <div class="settings-row">
              <strong>ì‘ë‹µ ë¹ˆë„</strong>
              <select id="response-density">
                <option value="1.0">ë§ìŒ</option>
                <option value="0.6" selected>ë³´í†µ</option>
                <option value="0.3">ì ìŒ</option>
              </select>
            </div>
          </div>

          <main class="chat">
            <ul id="messages" class="messages"></ul>
            <div id="typing" class="typing" aria-live="polite" aria-atomic="true"></div>
          </main>

          <footer class="composer">
            <input id="name" type="text" placeholder="ë‹‰ë„¤ì„ (ê¸°ë³¸: ì‚¬ìš©ì)" />
            <textarea id="input" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”... (Enter=ì „ì†¡, Shift+Enter=ì¤„ë°”ê¿ˆ)" rows="1"></textarea>
            <button id="send">ì „ì†¡</button>
          </footer>
        </section>
      </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/app.js" type="module"></script>
  </body>
  </html>
